# Harness UCD Process Analyzer & Migration Assistant

This is a web-based tool designed to help DevOps engineers and migration specialists analyze UrbanCode Deploy (UCD) Component Template JSON files. It parses the file, visualizes the deployment processes, and leverages Harness AI to generate comprehensive migration guides and a multi-step, validated Harness Pipeline YAML.

## Features

*   **JSON Parsing & Visualization:** Upload a UCD Component Template JSON to see a structured, easy-to-read breakdown of its processes, including main and failure-handling flows.
*   **AI-Powered Migration Guide:** Automatically generates a detailed, step-by-step markdown guide on how to migrate the specific UCD process to Harness CD.
*   **Guided Harness YAML Generation:** A four-step workflow to create a Harness Pipeline YAML:
    1.  **Generate Base Pipeline:** Creates an initial YAML file based on the main success path of the UCD process.
    2.  **Add Missing Steps:** Enriches the base YAML by incorporating the failure-handling logic from the UCD process.
    3.  **Validate Scripts:** Cross-references the generated YAML against the original UCD data to ensure all scripts have been included.
    4.  **Validate Schema:** Performs a high-level structural check on the final YAML to ensure it adheres to the Harness schema.
*   **Customizable AI Prompts:** Advanced settings allow you to tweak the system instructions sent to the AI for tailored results.

## Prerequisites

Before you begin, ensure you have the following installed on your local machine:

*   [Node.js](https://nodejs.org/) (v18 or later is recommended)
*   [npm](https://www.npmjs.com/) (usually comes with Node.js)
*   Use nvm to handlemultiple node versions
*   A **Google Gemini API Key**.

## Getting Started

Follow these steps to set up and run the project locally.

### 1. Clone the Repository

First, clone this repository to your local machine using your preferred method.

```bash
# Using HTTPS
git clone https://github.com/diegopereiraeng/ucd-migrator.git

# Navigate into the project directory
cd ucd-migrator
```

### 2. Install Dependencies

Once you are in the project's root directory, install the necessary Node.js packages.

```bash
npm install
```

### 3. Set Up Environment Variables

The application requires an API Key from Google Gemini to function. You must create an environment file to store this key securely.

1.  Navigate to [Google AI Studio](https://aistudio.google.com/app/apikey) to generate your API key.
2.  In the root of the project directory, create a new file named `.env`.
3.  Add your API key to this file, prefixed with `VITE_`, as shown below:

```
# .env.local
GEMINI_API_KEY=YOUR_GEMINI_API_KEY_HERE
```
Replace `YOUR_GEMINI_API_KEY_HERE` with your actual key from Google AI Studio.

**Important:** The `VITE_` prefix is required by the Vite development server to expose the variable to the application code running in the browser. The `.gitignore` file is configured to prevent this file from being committed to version control.

### 4. Run the Development Server

Start the local development server with the following command:

```bash
npm run dev
```

This command will start the application. The terminal will display the local URL where the app is running, which is typically `http://localhost:3000`.

## How to Use the Application

1.  Open the provided URL (e.g., `http://localhost:3000`) in your web browser.
2.  Drag and drop your exported UCD Component Template JSON file onto the upload area, or click to browse for the file.
3.  Once uploaded, the application will parse the file and display the main analysis view.
4.  Navigate through the available tabs:
    *   **Parsed Process Flow:** An interactive view of the main and failure flows from your UCD process, broken down by step.
    *   **AI Migration Guide:** A comprehensive markdown guide generated by the AI, explaining how to migrate the process to Harness.
    *   **Harness Generation Workflow:** The guided, multi-step workflow to generate and validate a Harness Pipeline YAML file.
    5.  Use the "Export" buttons within each tab to download the generated guide, the raw parsed text, or the final YAML file to your local machine.